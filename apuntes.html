<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Lenin Trinidad</title>
  <link rel="icon" type="image/png" href="imagenes/icon.png">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <div class="header-container">
        <div class="header-title">
            <h1>Lenin Trinidad</h1>
        </div>
        <nav>
            <a href="index.html" class="active">Inicio</a>
            <a href="apuntes.html">Apuntes</a>
            <a href="proyectos.html">Proyectos</a>
            <a href="blog.html">Blog</a>
            <a href="sobre.html">Sobre m칤</a>
        </nav>
    </div>
  </header>
    
  <main class="container">
      <h2>Proyectos</h2>

        <p style="text-align: center; color: rgba(255, 255, 255, 0.8); margin-bottom: var(--espacio-xl);">
            Aqu칤 encontrar치s una lista de apuntes personales 
        </p>

        <table id="tabla">
          <thead>
            <tr>
              <th>Orden</th>
              <th>T칤tulo</th>
              <th>Contenido</th>
              <th>츼rea</th>
              <th>Nivel</th>
              <th>Estado</th>
              <th>Fecha</th>
            </tr>
          </thead>
          <tbody>
            <!-- Las filas se llenar치n din치micamente con JavaScript -->
          </tbody>
        </table>
  </main>


  
  
  <script>
     fetch("apuntes.json")
      .then(r => r.json())
      .then(lista => {
        const tbody = document.querySelector("#tabla tbody");
        
        // 1. Ordenar primero por 치rea y luego por el campo "orden"
        lista.sort((a, b) => {
          // Primero comparar por 치rea
          if (a.area < b.area) return -1;
          if (a.area > b.area) return 1;
          
          // Si el 치rea es igual, comparar por el campo "orden"
          // Convertir a n칰mero para asegurar orden num칠rico correcto
          const ordenA = parseInt(a.orden) || 0;
          const ordenB = parseInt(b.orden) || 0;
          
          return ordenA - ordenB;
        });
        
        let currentArea = null;
        
        // 2. Recorrer lista ordenada y agregar separadores de 치rea
        lista.forEach(d => {
          // Si cambiamos de 치rea, agregar un separador
          if (d.area !== currentArea) {
            currentArea = d.area;
            
            // Crear fila separadora para el 치rea
            const separatorRow = document.createElement("tr");
            separatorRow.className = "area-separator";
            separatorRow.innerHTML = `
              <td colspan="7">游늬 ${currentArea}</td>
            `;
            tbody.appendChild(separatorRow);
          }
          
          // Agregar la fila normal del apunte
          const tr = document.createElement("tr");
          tr.innerHTML = `
            <td>${d.orden}</td>
            <td>${d.titulo}</td>
            <td><a href="${d.archivo}" target="_blank" rel="noopener">${d.contenido}</a></td>
            <td>${d.area}</td>
            <td>${d.nivel}</td>
            <td>${d.estado}</td>
            <td>${d.fecha}</td>
          `;
          tbody.appendChild(tr);
        });
      })
      .catch(e => {
        console.error("Error al cargar los apuntes:", e);
        const tbody = document.querySelector("#tabla tbody");
        tbody.innerHTML = `
          <tr>
            <td colspan="7">Error al cargar los apuntes. Verifica que el archivo apuntes.json exista.</td>
          </tr>
        `;
      });
  </script>
</body>

</html>
