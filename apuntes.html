<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Lenin Trinidad</title>
  <link rel="icon" type="image/png" href="imagenes/icon.png">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <h1>Lenin Trinidad</h1>

  <nav>
      <a href="index.html">Inicio</a>
      <a href="sobre.html">Sobre M√≠</a>
      <a href="proyectos.html">Proyectos</a>
      <a href="blog.html">Blog</a>
      <a href="apuntes.html">Apuntes</a>
    </nav>
    
  <table id="tabla">
    <thead>
      <tr>
        <th>Orden</th>
        <th>T√≠tulo</th>
        <th>Contenido</th>
        <th>√Årea</th>
        <th>Nivel</th>
        <th>Estado</th>
        <th>Fecha</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>
  
  <script>
     fetch("apuntes.json")
      .then(r => r.json())
      .then(lista => {
        const tbody = document.querySelector("#tabla tbody");
        
        // 1. Ordenar primero por √°rea y luego por el campo "orden"
        lista.sort((a, b) => {
          // Primero comparar por √°rea
          if (a.area < b.area) return -1;
          if (a.area > b.area) return 1;
          
          // Si el √°rea es igual, comparar por el campo "orden"
          // Convertir a n√∫mero para asegurar orden num√©rico correcto
          const ordenA = parseInt(a.orden) || 0;
          const ordenB = parseInt(b.orden) || 0;
          
          return ordenA - ordenB;
        });
        
        let currentArea = null;
        
        // 2. Recorrer lista ordenada y agregar separadores de √°rea
        lista.forEach(d => {
          // Si cambiamos de √°rea, agregar un separador
          if (d.area !== currentArea) {
            currentArea = d.area;
            
            // Crear fila separadora para el √°rea
            const separatorRow = document.createElement("tr");
            separatorRow.className = "area-separator";
            separatorRow.innerHTML = `
              <td colspan="7">üìÅ ${currentArea}</td>
            `;
            tbody.appendChild(separatorRow);
          }
          
          // Agregar la fila normal del apunte
          const tr = document.createElement("tr");
          tr.innerHTML = `
            <td>${d.orden}</td>
            <td>${d.titulo}</td>
            <td><a href="${d.archivo}" target="_blank" rel="noopener">${d.contenido}</a></td>
            <td>${d.area}</td>
            <td>${d.nivel}</td>
            <td>${d.estado}</td>
            <td>${d.fecha}</td>
          `;
          tbody.appendChild(tr);
        });
      })
      .catch(e => {
        console.error("Error al cargar los apuntes:", e);
        const tbody = document.querySelector("#tabla tbody");
        tbody.innerHTML = `
          <tr>
            <td colspan="7">Error al cargar los apuntes. Verifica que el archivo apuntes.json exista.</td>
          </tr>
        `;
      });
  </script>
</body>

dfadafdafadcdaihcsaiuhcsuhcaisuh
</html>
